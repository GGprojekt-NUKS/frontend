{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"FORUM\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Pick a topic:\", -1 /* HOISTED */);\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Add new text:\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.topic_id = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.topics, topic => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: topic.id,\n      key: topic.id\n    }, _toDisplayString(topic.topic), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.topic_id]]), _hoisted_4]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.new_text = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.new_text]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addText && $options.addText(...args))\n  }, \"Add\")]), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.texts, text => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: text.id\n    }, _toDisplayString(text.text), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$data","topic_id","$event","_Fragment","_renderList","topics","topic","value","id","key","_hoisted_3","_hoisted_4","_hoisted_5","type","new_text","onClick","_cache","args","$options","addText","texts","text"],"sources":["/home/nuksvaje/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>FORUM</h1>\n    <div>\n      <h2>Pick a topic:</h2>\n      <select v-model=\"topic_id\">\n        <option v-for=\"topic in topics\" :value=\"topic.id\" :key=\"topic.id\">{{ topic.topic }}</option>\n      </select>\n      <br>\n    </div>\n    <div>\n      <h2>Add new text:</h2>\n      <input type=\"text\" v-model=\"new_text\">\n      <button @click=\"addText\">Add</button>\n    </div>\n    <ul>\n      <li v-for=\"text in texts\" :key=\"text.id\">\n        {{ text.text }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      topics: [],\n      texts: [],\n      new_text: '',\n      topic_id: null,\n    }\n  },\n  mounted() {\n    axios.get('http://localhost:8000/topic_list')\n      .then(response => {\n        this.topics = response.data;\n        if (this.topics.length > 0) {\n          this.topic_id = this.topics[0].id;\n        }\n        this.loadTexts();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  },\n  methods: {\n    loadTexts() {\n      axios.get('http://localhost:8000/text_list')\n        .then(response => {\n          this.texts = response.data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    addText() {\n      if (this.new_text.trim() !== '') {\n        axios.post('http://localhost:8000/add', {\n          text: this.new_text,\n          topic_id: this.topic_id,\n        })\n        .then(response => {\n          console.log(response.data);\n          this.new_text = '';\n          this.loadTexts();\n        })\n        .catch(error => {\n          console.log(error);\n        });\n      }\n    },\n  },\n}\n</script>\n"],"mappings":";gCAEIA,mBAAA,CAAc,YAAV,OAAK;gCAEPA,mBAAA,CAAsB,YAAlB,eAAa;;gCAIjBA,mBAAA,CAAI;gCAGJA,mBAAA,CAAsB,YAAlB,eAAa;;;uBAVrBC,mBAAA,CAmBM,cAlBJC,UAAc,EACdF,mBAAA,CAMM,cALJG,UAAsB,E,gBACtBH,mBAAA,CAES;+DAFQI,KAAA,CAAAC,QAAQ,GAAAC,MAAA;yBACvBL,mBAAA,CAA4FM,SAAA,QAAAC,WAAA,CAApEJ,KAAA,CAAAK,MAAM,EAAfC,KAAK;yBAApBT,mBAAA,CAA4F;MAA3DU,KAAK,EAAED,KAAK,CAACE,EAAE;MAAGC,GAAG,EAAEH,KAAK,CAACE;wBAAOF,KAAK,CAACA,KAAK,wBAAAI,UAAA;2EADjEV,KAAA,CAAAC,QAAQ,E,GAGzBU,UAAI,C,GAENf,mBAAA,CAIM,cAHJgB,UAAsB,E,gBACtBhB,mBAAA,CAAsC;IAA/BiB,IAAI,EAAC,MAAM;+DAAUb,KAAA,CAAAc,QAAQ,GAAAZ,MAAA;iDAARF,KAAA,CAAAc,QAAQ,E,GACpClB,mBAAA,CAAqC;IAA5BmB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,OAAA,IAAAD,QAAA,CAAAC,OAAA,IAAAF,IAAA,CAAO;KAAE,KAAG,E,GAE9BrB,mBAAA,CAIK,c,kBAHHC,mBAAA,CAEKM,SAAA,QAAAC,WAAA,CAFcJ,KAAA,CAAAoB,KAAK,EAAbC,IAAI;yBAAfxB,mBAAA,CAEK;MAFsBY,GAAG,EAAEY,IAAI,CAACb;wBAChCa,IAAI,CAACA,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}