{"ast":null,"code":"export default {\n  data() {\n    return {\n      items: [],\n      selectedTopicId: null,\n      newText: ''\n    };\n  },\n  created() {\n    // Load topics and texts from server on component creation\n    this.loadTopics();\n    this.loadTexts();\n  },\n  mounted() {\n    this.loadTopics();\n    this.selectedTopicId = this.topicList[0].id;\n    this.loadTexts();\n  },\n  methods: {\n    async loadTopics() {\n      // Send GET request to /topic_list to load topics from server\n      const response = await fetch('http://localhost:8000/topic_list');\n      const data = await response.json();\n      this.items = data.map((topic, index) => {\n        return {\n          id: index,\n          topic: topic\n        };\n      });\n    },\n    async loadTexts() {\n      // Send GET request to /texts_by_topic with selected topic ID to load texts from server\n      const response = await fetch(`http://localhost:8000/texts_by_topic/${this.selectedTopicId}`);\n      const data = await response.json();\n      this.textList = data;\n    },\n    async saveText() {\n      // Send POST request to /add to save new text to server\n      const response = await fetch('http://localhost:8000/add', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: this.newText,\n          topic_id: this.selectedTopicId + 1\n        })\n      });\n      if (response.ok) {\n        this.newText = '';\n        this.loadTexts();\n      } else {\n        console.error('Failed to save text:', response.statusText);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","items","selectedTopicId","newText","created","loadTopics","loadTexts","mounted","topicList","id","methods","response","fetch","json","map","topic","index","textList","saveText","method","headers","body","JSON","stringify","text","topic_id","ok","console","error","statusText"],"sources":["/home/nuksvaje/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>FORUM</h1>\n    <div>\n      <h2>Pick a topic:</h2>\n      <select v-model=\"selectedTopicId\" @change=\"loadTexts\">\n        <option disabled value=\"\">Please select one</option>\n        <option v-for=\"(topic, index) in topicList\" :key=\"index\" :value=\"topic.id\">{{ topic.topic }}</option>\n      </select>\n      <br>\n    </div>\n    <div>\n      <h2>Add new text:</h2>\n      <input type=\"text\" id=\"newText\" v-model=\"newText\">\n      <button @click=\"saveText\">Save</button>\n    </div>\n    <ul>\n      <li v-for=\"item in mergedItems\" :key=\"item.topic\">\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      items: [],\n      selectedTopicId: null,\n      newText: '',\n    };\n  },\n  created() {\n    // Load topics and texts from server on component creation\n    this.loadTopics();\n    this.loadTexts();\n  },\n  mounted() {\n    this.loadTopics();\n    this.selectedTopicId = this.topicList[0].id;\n    this.loadTexts();\n  },\n  methods: {\n    async loadTopics() {\n      // Send GET request to /topic_list to load topics from server\n      const response = await fetch('http://localhost:8000/topic_list');\n      const data = await response.json();\n      this.items = data.map((topic, index) => {\n        return { id: index, topic: topic };\n      });\n    },\n    async loadTexts() {\n      // Send GET request to /texts_by_topic with selected topic ID to load texts from server\n      const response = await fetch(`http://localhost:8000/texts_by_topic/${this.selectedTopicId}`);\n      const data = await response.json();\n      this.textList = data;\n    },\n    async saveText() {\n      // Send POST request to /add to save new text to server\n      const response = await fetch('http://localhost:8000/add', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ text: this.newText, topic_id: this.selectedTopicId + 1 }),\n      });\n      if (response.ok) {\n        this.newText = '';\n        this.loadTexts();\n    } else {\n      console.error('Failed to save text:', response.statusText);\n    }\n  },\n\n  },\n};\n</script>\n\n"],"mappings":"AAwBA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,eAAe,EAAE,IAAI;MACrBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,SAAS,EAAE;EAClB,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACF,UAAU,EAAE;IACjB,IAAI,CAACH,eAAc,GAAI,IAAI,CAACM,SAAS,CAAC,CAAC,CAAC,CAACC,EAAE;IAC3C,IAAI,CAACH,SAAS,EAAE;EAClB,CAAC;EACDI,OAAO,EAAE;IACP,MAAML,UAAUA,CAAA,EAAG;MACjB;MACA,MAAMM,QAAO,GAAI,MAAMC,KAAK,CAAC,kCAAkC,CAAC;MAChE,MAAMZ,IAAG,GAAI,MAAMW,QAAQ,CAACE,IAAI,EAAE;MAClC,IAAI,CAACZ,KAAI,GAAID,IAAI,CAACc,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;QACtC,OAAO;UAAEP,EAAE,EAAEO,KAAK;UAAED,KAAK,EAAEA;QAAM,CAAC;MACpC,CAAC,CAAC;IACJ,CAAC;IACD,MAAMT,SAASA,CAAA,EAAG;MAChB;MACA,MAAMK,QAAO,GAAI,MAAMC,KAAK,CAAE,wCAAuC,IAAI,CAACV,eAAgB,EAAC,CAAC;MAC5F,MAAMF,IAAG,GAAI,MAAMW,QAAQ,CAACE,IAAI,EAAE;MAClC,IAAI,CAACI,QAAO,GAAIjB,IAAI;IACtB,CAAC;IACD,MAAMkB,QAAQA,CAAA,EAAG;MACf;MACA,MAAMP,QAAO,GAAI,MAAMC,KAAK,CAAC,2BAA2B,EAAE;QACxDO,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAE,IAAI,CAACrB,OAAO;UAAEsB,QAAQ,EAAE,IAAI,CAACvB,eAAc,GAAI;QAAE,CAAC;MACjF,CAAC,CAAC;MACF,IAAIS,QAAQ,CAACe,EAAE,EAAE;QACf,IAAI,CAACvB,OAAM,GAAI,EAAE;QACjB,IAAI,CAACG,SAAS,EAAE;MACpB,OAAO;QACLqB,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEjB,QAAQ,CAACkB,UAAU,CAAC;MAC5D;IACF;EAEA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}